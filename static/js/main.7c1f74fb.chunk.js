(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{214:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(22),l=a.n(i),c=(a(94),a(6)),r=a(24),s=(a(95),a(16)),m=a(220),u=a(219),d=a(81),v=a(28),h=a(13),f=a(224),g=a(221),E=a(82),b={envId:"bn1ab7m56qolupi5sa0g",sdkConfig:{fetchNow:!0,enableConsoleLogs:!0},visitorData:{id:"test-vid",context:{isAuth:!0,numberTransaction:12,isVip:!1}},sandbox:{envId:["bn1ab7m56qolupi5sa0g","bn1ab7m56qolupi5sa0g_1","bn1ab7m56qolupi5sa0g_2"],visitorId:["test-vid","test-vid_2","test-vid_3"]}},p=function(e){e.onSubmitNewSettings;var t="initialization",a=Object(c.a)({},b.visitorData.context),i=Object(n.useContext)(D),l=i.currentSettings,s=i.setSettings,m=o.a.useState(Object(c.a)({},l)),p=Object(r.a)(m,2),k=p[0],C=p[1],y=function(e){var t=JSON.parse(e.currentTarget.parentElement.innerText),a=Object(c.a)({},k);if(e.currentTarget.checked)C(Object(c.a)({},k,{visitorData:Object(c.a)({},k.visitorData,{context:Object(c.a)({},k.visitorData.context,{},t)})}));else{var n=Object.keys(t)[0];C(Object(c.a)({},k,{visitorData:Object(c.a)({},k.visitorData,{context:Object.entries(a.visitorData.context).reduce((function(e,t){var a=Object(r.a)(t,2),o=a[0],i=a[1];return o===n?e:Object(c.a)({},e,Object(v.a)({},o,i))}),{})})}))}};return o.a.createElement(u.a,null,o.a.createElement(d.a,null,o.a.createElement("a",{className:"fsAnchor",id:t}),o.a.createElement(f.a,{variant:"dark",className:"fs-alert demoHook"},o.a.createElement(f.a.Heading,null,t),o.a.createElement("p",null,"The ",o.a.createElement("b",null,t)," is proceed with"," ",o.a.createElement("b",null,"FlagshipProvider"),". In this demo app, it is plugged like so:"),o.a.createElement(h.a,{className:"mv3",codeString:"\n\nimport React from 'react';\nimport { FlagshipProvider } from \"@flagship.io/react-sdk\";\n\nconst App: React.FC = () => (\n  <>\n      <FlagshipProvider\n      envId={".concat(l.envId,"}\n      config={\n        ").concat(JSON.stringify(l.sdkConfig,null,2),"\n      }\n      visitorData={\n        ").concat(JSON.stringify(l.visitorData,null,2),'\n    }\n      onInitStart={() => {\n        console.log("init start");\n      }}\n      onInitDone={() => {\n        console.log("init done");\n      }}\n      loadingComponent={\n        <Container className="mt3">\n          <Row>\n            <Col xs={12}>Loading Flagship React SDK...</Col>\n          </Row>\n        </Container>\n      }\n    >\n      <Header />\n      <AppContainer />\n    </FlagshipProvider>\n  </>\n);\n          ')}),o.a.createElement("p",null,"To understand impact of each props, you can change some value dynamically here:"," "),o.a.createElement(g.a,null,o.a.createElement(g.a.Group,{controlId:"initForm.ControlSelect1"},o.a.createElement(g.a.Label,null,"envId"),o.a.createElement(g.a.Control,{as:"select",onChange:function(e){return C(Object(c.a)({},k,{envId:e.target.value}))}},b.sandbox.envId.map((function(e){return o.a.createElement("option",null,e)})))),o.a.createElement(g.a.Group,{controlId:"initForm.ControlSelect2"},o.a.createElement(g.a.Label,null,"visitorId"),o.a.createElement(g.a.Control,{as:"select",onChange:function(e){return C(Object(c.a)({},k,{visitorData:Object(c.a)({},k.visitorData,{id:e.target.value})}))}},b.sandbox.visitorId.map((function(e){return o.a.createElement("option",null,e)})))),o.a.createElement(g.a.Group,{controlId:"initForm.ControlSelect3"},o.a.createElement(g.a.Label,null,"visitor context"),Object.entries(a).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return o.a.createElement(g.a.Check,{key:a,type:"checkbox",id:"default-".concat(a),checked:k.visitorData.context.hasOwnProperty(a),onClick:y,label:JSON.stringify(Object(v.a)({},a,n))})})))),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(E.a,{variant:"secondary",onClick:function(){return s(Object(c.a)({},k))}},"Apply change")),o.a.createElement("div",null,"Since we have set those settings:"),o.a.createElement(h.a,{className:"mv3",codeString:"".concat(JSON.stringify(l.sdkConfig,null,2))}),o.a.createElement("div",null,"When you change those values, you can notice the behavior of the SDK, on logs & network."),o.a.createElement("div",null,"It will impact the output of Flagship SDK Hooks as well, take a look below."))))},k=function(){Object(s.useFsModifications)([{key:"btnColor",defaultValue:"green",activate:!1}]);return o.a.createElement(u.a,null,o.a.createElement(d.a,null,o.a.createElement("a",{className:"fsAnchor",id:"useFsModifications"}),o.a.createElement(f.a,{variant:"dark",className:"fs-alert demoHook"},o.a.createElement(f.a.Heading,null,"useFsModifications"),o.a.createElement("p",null,"Use ",o.a.createElement("b",null,"useFsModifications")," hook to get the modifications:"),o.a.createElement(h.a,{className:"mv3",codeString:"const todo = 'todo';"}))))},C=function(){var e=Object(s.useFsModificationsCache)([{key:"btnColor",defaultValue:"green",activate:!1}]);return o.a.createElement(u.a,null,o.a.createElement(d.a,null,o.a.createElement("a",{className:"fsAnchor",id:"useFsModificationsCache"}),o.a.createElement(f.a,{variant:"dark",className:"fs-alert demoHook"},o.a.createElement(f.a.Heading,null,"useFsModificationsCache"),o.a.createElement("p",null,"Use ",o.a.createElement("b",null,"useFsModificationsCache")," hook to get the modifications:"),o.a.createElement(h.a,{className:"mv3",codeString:"import { useFsModificationsCache } from '@flagship.io/react-sdk';\nconst fsModifications = useFsModificationsCache([\n  {\n      key: 'btnColor',\n      defaultValue: 'green',\n      activate: false\n  }\n]);              "}),o.a.createElement("p",null,"Output: "),o.a.createElement("div",null,o.a.createElement("button",{style:{backgroundColor:e.btnColor}},"I'm a button customized with Flagship")),o.a.createElement(h.a,{className:"mv3",codeString:"<div>\n    <button style={{ backgroundColor: ".concat(e.btnColor," }}>\n        I'm a button customized with Flagship\n    </button>\n</div>              ")}))))},y=function(){Object(s.useFsActivate)(["btnColor","otherKey1","otherKey2"]);return o.a.createElement(u.a,null,o.a.createElement(d.a,null,o.a.createElement("a",{className:"fsAnchor",id:"useFsActivate"}),o.a.createElement(f.a,{variant:"dark",className:"fs-alert demoHook"},o.a.createElement(f.a.Heading,null,"useFsActivate"),o.a.createElement("p",null,"Use ",o.a.createElement("b",null,"useFsActivate")," hook to trigger activation of a modification:"),o.a.createElement(h.a,{className:"mv3",codeString:"useFsActivate([\n    'btnColor',\n    'otherKey1',\n    'otherKey2'\n]);                        "}),o.a.createElement("div",null,"In this example, keys"," ",o.a.createElement("i",null,"btnColor, otherKey1, otherKey2"),' have been activated. You can check on networks, a http request "activate" for each key specified in the array.'))))},F=function(e){var t=e.onSubmitNewSettings;return o.a.createElement(m.a,{className:"mt3"},o.a.createElement(p,{onSubmitNewSettings:t}),o.a.createElement(k,null),o.a.createElement(C,null),o.a.createElement(y,null))},O=a(223),S=a(225),j=a(222),N=a(83),w=a.n(N),I=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{className:"fsNavbar",fixed:"top"},o.a.createElement(O.a.Brand,{href:"https://github.com/abtasty/flagship-js-sdk",className:"flex item-center"},o.a.createElement("img",{alt:"Logo Flagship",src:w.a,className:"d-inline-block align-top logoAdjust"}),"REACT SDK (Dev demo)"),o.a.createElement(S.a,{className:"mr-auto fsNav"},o.a.createElement(S.a.Link,{href:"#initialization"},"Initialization"),o.a.createElement(j.a,{title:"Fs Hooks",id:"nav-dropdown"},o.a.createElement(j.a.Item,{eventKey:"4.1",href:"#useFsModifications"},"useFsModifications"),o.a.createElement(j.a.Item,{eventKey:"4.2",href:"#useFsModificationsCache"},"useFsModificationsCache"),o.a.createElement(j.a.Item,{eventKey:"4.3",href:"#useFsActivate"},"useFsActivate"))),o.a.createElement(g.a,{inline:!0},o.a.createElement(S.a.Link,{href:"https://github.com/abtasty/flagship-react-sdk"},"Github"),o.a.createElement(S.a.Link,{href:"https://www.abtasty.com/solutions-product-teams/"},"What is Flagship ?"))))},D=Object(n.createContext)(null),x=function(){var e=o.a.useState({envId:b.envId,sdkConfig:Object(c.a)({},b.sdkConfig),visitorData:Object(c.a)({},b.visitorData)}),t=Object(r.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.Provider,{value:{currentSettings:a,setSettings:n}},o.a.createElement(s.FlagshipProvider,{envId:a.envId,config:a.sdkConfig,visitorData:a.visitorData,onInitStart:function(){console.log("init start")},onInitDone:function(){console.log("init done")},loadingComponent:o.a.createElement(m.a,{className:"mt3"},o.a.createElement(u.a,null,o.a.createElement(d.a,{xs:12,style:{color:"white",height:"100vh",fontSize:"5vw"}},"Loading Flagship React SDK...")))},o.a.createElement(I,null),o.a.createElement(F,{onSubmitNewSettings:function(e){return n(Object(c.a)({},a,{},e))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(213);l.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports=a.p+"static/media/Flagship-horizontal-product-white.6e8b90f3.png"},89:function(e,t,a){e.exports=a(214)},94:function(e,t,a){},95:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.7c1f74fb.chunk.js.map